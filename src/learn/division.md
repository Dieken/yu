<script setup>
import Chaifen from '@/chaifen/Chaifen.vue'
</script>

# 单字拆分

## 汉字拼图

先前说过，拆字，就是把汉字按照一定的规则，拆成唯一的字根组合。这个过程如同拼图一般，大多数时候，是非常直观而自然的。

::: tip 例

<div class="flex justify-left flex-wrap">
<Chaifen char='糧' :parts='[6,4,1,7]' />
<Chaifen char='錘' :parts='[8,3,4,1]' />
<Chaifen char='錢' :parts='[8,4,4]' />
<Chaifen char='瓶' :parts='[3,3,4]' />
<Chaifen char='琴' :parts='[4, 4, 2, 1, 1]' />
<Chaifen char='鴿' :parts='[6, 11]' />
</div>
:::

这种将字拆成直观的、分离的部件的方法，足以应付大部分汉字的拆分了。但在实际使用中，遇到这个问题：一个独体字，本身不是字根，怎么办？这时候，我们要把它继续拆成更小的字根甚至笔划。

::: tip 例

`戋`这个字，我们可以继续将它拆成`一`和`戈`。查字根图可知，`一`和`戈`正好是两个字根，拆字成功。  

`丸`这个字，我们可以继续将它拆成`九`和`丶`。查字根图可知，`九`和`丶`正好是两个字根，拆字成功。  

`朱`这个字，我们可以继续将它拆成`牛`和`八`。查字根图可知，`牛`和`八`正好是两个字根，拆字成功。  
<div class="flex justify-left flex-wrap">
<Chaifen char='戋' :parts='[1,4]' />
<Chaifen char='丸' :parts='[2,1]' />
<Chaifen char='朱' :parts='[4,2]' />
</div>
:::

有时候，独体字的拆分不是很直观。比如`再`可以拆成`一冂土`，也可以拆成`王冂`。遇到此类字时的拆分，往往需要一些经验和练习。所以当你遇到不会拆的字时，应该主动查询它的编码，及时学习。

更麻烦的情况是，**一个字好像有几种拆分方法**。

::: tip 例

`井`，可以拆`二{介下}`，也可以拆`一廾`。  
<div class="flex justify-left flex-wrap">
<Chaifen char='井' :parts='[1,3]' />
❓
<Chaifen char='井' :parts='[2,2]' />
❓
<Chaifen char='井' :parts='[3,1]' />
❓
</div>

`单`可以拆成`丷日十`也可以拆成`丷冂丰`。
<div class="flex justify-left flex-wrap">
<Chaifen char='单' :parts='[2,4,2]' />
❓
<Chaifen char='单' :parts='[2,2,1,1,2]' :colors='[1,2,3,2,3]' />
❓
<Chaifen char='单' :parts='[2,2,4]' />
❓
</div>

`主`可以拆成`丶王`也可以拆成`亠土`。  
<div class="flex justify-left flex-wrap">
<Chaifen char='主' :parts='[1,4]' />
❓
<Chaifen char='主' :parts='[2,3]' />
❓
<Chaifen char='主' :parts='[1,3,1]' :colors='[1,2,1]' />
❓
</div>
:::

这种一字多拆的情况，任何形码中，都是希望避免的。因为一字多拆，会造成极大的不确定性，并造成编码的混乱[^predecessor]。

宇浩输入法总结了拆字规则，并且不断自我审视每一个拆分是否符合规则。通过大量的努力，明确了一套优先级系统。使每一个汉字，都有唯一的拆分方案，消除了不确定性[^uncertanty]。

::: info 拆字优先级

「宇浩」拆字规则，按优先级排序如下：

1. 字根最少
1. 符合笔顺
1. 结构完整
1. 散连交断
1. 字根取大

以上优先级，还可以高度归纳为：**少顺整散连交断大**。
:::

取根时，如果有多种不同的拆分方式，则按**优先级从高到低**依次检查以上规则，选取符合条件的，排除不满足的，最终得到唯一的拆分方案。因此，某种意义上来说，宇浩输入法的拆分规则，其实是一种「比较和淘汰」的排除法，后文中会展示这些步骤的机器实现。

以下为拆分规则详细介绍[^intrinstic]：

## 字根最少

字根最少，意思是拆分一个字时，应该使得字根的数量最少。保证字根数量最少，是第一优先级最高的规则。

::: tip 例

`国`如果完全符合笔顺，应该拆成`冂王丶一`，是四个字根。但拆成`囗王丶`，只用三个字根就够了。因为「少」优先级高于「顺」，所以应该拆成`囗王丶`。
<div class="flex justify-left flex-wrap">
<Chaifen char='国' :parts='[2,4,1,1]' :colors='[1,2,3,1]' />
✅
<Chaifen char='国' :parts='[2,4,1,1]' />
❌
</div>

`國`如果完全符合笔顺，应该拆成`冂一口一丿丶一`，是七个字根。但拆成`囗戈口一`，只用四个字根就够了。因为「少」优先级高于「顺」，所以应该拆成`囗戈口一`。
<div class="flex justify-left flex-wrap">
<Chaifen char='國' :parts='[2,1,3,1, 3, 1]' :colors='[1,2,3,4,2,1]' />
✅
<Chaifen char='國' :parts='[2,1,3,1,1,1,1,1]' />
❌
</div>

:::

## 符合笔顺

符合笔顺，指的是拆分的时候，按笔顺依次写下的两个及以上的笔画，应当尽量位于同一个字根中。

注意到，为了使字根数量少，某些大于等于两划的字根，它的笔划可能会被另一个或多个字根穿插。我们要使得不被穿插的字根数量更多、笔划更多[^order]。

符合笔顺的优先级低于字根最少。

::: tip 例

`来`可以拆成`一米`也可以拆成`未丷`，都是两根，但拆成`一米`完全符合笔顺。
<div class="flex justify-left flex-wrap">
<Chaifen char='来' :parts='[1,6]' />
✅
<Chaifen char='来' :parts='[1,2,4]' :colors='[1,2,1]' />
❌
</div>

`聿`可以拆成`彐キ`也可以拆成`肀二`，都是两根，但拆成`彐キ`完全符合笔顺。
<div class="flex justify-left flex-wrap">
<Chaifen char='聿' :parts='[3,3]' />
✅
<Chaifen char='聿' :parts='[3,2,1]' :colors='[1,2,1]' />
❌
</div>

`匹`拆`兀乚`而不拆`匚儿`，因为前者完全符合笔顺。
<div class="flex justify-left flex-wrap">
<Chaifen char='匹' :parts='[3,1]' />
✅
<Chaifen char='匹' :parts='[1,2,1]' :colors='[1,2,1]' />
❌
</div>

`曲`拆`冂𠀎`而不拆`日卄`，因为前者完全符合笔顺。
<div class="flex justify-left flex-wrap">
<Chaifen char='曲' :parts='[2,4]' />
✅
<Chaifen char='曲' :parts='[2,3,1]' :colors='[1,2,1]' />
❌
</div>
:::

## 结构完整

结构完整，指的是`囗日目勹冂匚コ凵`等存在全包围和半包围结构的字根不拆散。

这个原则的设置，是为了不过分破坏汉字的整体性和直观性。

::: tip 例

`昜`拆`日一勹彡`不拆`日丆𠃌彡`。
<div class="flex justify-left flex-wrap">
<Chaifen char='昜' :parts='[4,1,2,2]' />
✅
<Chaifen char='昜' :parts='[4,2,1,2]' />
❌
</div>

`单`可以拆成`丷日十`也可以拆成`丷冂丰`。两者都是三根，都完全「符合笔顺」。因为包围结构不拆散，故而`单`拆成`丷日十`。
<div class="flex justify-left flex-wrap">
<Chaifen char='单' :parts='[2,4,2]' />
✅
<Chaifen char='单' :parts='[2,2,4]' />
❌
</div>

`免`可以拆成`⺈口儿`也可以拆成`⺈冂尢`。两者都是三根，都完全「符合笔顺」。因为包围结构不拆散，故而`免`拆成`⺈口儿`。
<div class="flex justify-left flex-wrap">
<Chaifen char='免' :parts='[2,3,2]' />
✅
<Chaifen char='免' :parts='[2,2,3]' />
❌
</div>

`万`拆成`一勹`而非`{一丿}乛`。因为前者不仅完全符合笔顺，同时也保持了结构完整。
<div class="flex justify-left flex-wrap">
<Chaifen char='万' :parts='[1,2]' />
✅
<Chaifen char='万' :parts='[1,1,1]' :colors='[1,2,1]' />
❌
</div>
:::

## 散连交断

**散·连·交·断**，是汉字部首或笔画的四种状态。

- 字根离散，指的是两个字根互相分离。比如`部`中的`立口阝`，便是三个分离的字根。
- 字根相连，指的是两个字根互相连接。比如`美`拆为`𦍌大`，这两个字根是相连的。
- 字根相交，指的是两个字根互相交叉。比如`再`拆成`一冂土`三个字根，便是相交的。
- 笔划断开，指的是一个笔划（横或竖）断开。比如`我`拆成`丿扌戈`三个字根，其中的`扌`和`戈`两根的横本是一笔写成，但我们将横画断开。

「散连交断」，优先级依次下降，但都排在「字根最少」「符合笔顺」「结构完整」之后。

### 能散不连

两个字根互相分离，优于两个字根互相连接。

::: tip 例
`主`可以拆成`丶王`也可以拆成`亠土`。观察到，`丶王`是散开的，而`亠土`是相连的，后者符合「能散不连」。  
<div class="flex justify-left flex-wrap">
<Chaifen char='主' :parts='[1,4]' />
✅
<Chaifen char='主' :parts='[2,3]' />
❌
</div>
:::

### 能连不交

两个字根互相分离，优于两个字根互相交叉。

::: tip 例
`开`可以拆成`一廾`也可以拆成`二{介下}`。观察到，第一种拆法字根相连，第二种拆法字根相交。故而拆成`一廾`符合「能连不交」。 
<div class="flex justify-left flex-wrap">
<Chaifen char='开' :parts='[1,3]' />
✅
<Chaifen char='开' :parts='[2,2]' />
❌
</div>
:::

### 能交不断

两个字根互相交叉，优于将笔画断开。

::: tip 例
`果`拆作`日木`，不拆成`田木`或`甲木`，这是因为后者将中间的竖断开了。因为「字根相交」的优先级高于「笔画断开」，`果`应当拆成`日木`。  
<div class="flex justify-left flex-wrap">
<Chaifen char='果' :parts='[4,4]' />
✅
<Chaifen char='果' :parts='[4,1,1,2]' :colors='[1,2,0,2]' />
❌
</div>
:::

### 根少而断

为了根少和直观，有且只有以下两种情况可以断开笔画：

1. `我識羲`等字中`戈`的横。
1. `重熏`等字中`千`的竖。

::: tip 例
`我`拆作`丿扌戈`，不拆成`丿扌乚丿丶`。虽然前者将中间的横断开了，但因为「字根最少」，我们选择只有三根的`丿扌戈`。
<div class="flex justify-left flex-wrap">
<Chaifen char='我' :parts='[1,1,2,3]' :colors='[1,0,2,3,5,1]' />
✅
<Chaifen char='我' :parts='[1,3,1,1,1]' />
❌
</div>

`熏`拆作`千黑`，不拆成`千囗丷二灬`。虽然前者将中间的竖断开了，但因为「字根最少」，我们选择只有两根的`千黑`。  
<div class="flex justify-left flex-wrap">
<Chaifen char='熏' :parts='[2,5,1,6]' :colors='[1,2,0,2,3,5,1]' />
✅
<Chaifen char='熏' :parts='[2,2,2,1,1,2,4]' :colors='[1,2,3,2,1,4,5]' />
❌
</div>
:::

<!-- ::: danger 注意

可以断开的笔画必须是横或竖。撇、捺、折不可断开。故而`专`不拆`キマ`。
<div class="flex justify-left flex-wrap">
<Chaifen char='专' :parts='[2,1,1]' />
✅
<Chaifen char='专' :parts='[2,1,1]' :colors='[1,0,2]' />
❌
</div>
::: -->

## 字根取大

字根取大，指的是按照笔顺拆字时：

- 让非「竖·撇变形部分」尽可能地大。
- 让首笔靠前的字根尽可能地大。

### 非变形部分取大

部分字根在做偏旁的时候，由于书法的考虑，会有「竖变撇」「撇变竖」的变化。它们称为「竖·撇变形根」。

::: info 竖·撇变形根
`千`字根的`丨`变成`丿`

`干`字根的`丨`变成`丿`

`キ`字根的`丨`变成`丿`

`丰`字根的`丨`变成`丿`

`羊`字根的`丨`变成`丿`

`丌`字根的`丿`变成`丨`
:::

我们应当对非变形部分取大。

::: tip 例
`失`拆`丿夫`而不拆`牛乀`，因为`牛`的一竖是撇。故而对`夫`取大。
<div class="flex justify-left flex-wrap">
<Chaifen char='失' :parts='[1,4]' />
✅
<Chaifen char='失' :parts='[4,1]' :colors='[1,2]' />
❌
</div>

`井`拆`二{介下}`而不拆`キ丨`，因为`キ`的一竖是撇。故而对`{介下}`取大。
<div class="flex justify-left flex-wrap">
<Chaifen char='井' :parts='[2,2]' />
✅
<Chaifen char='井' :parts='[3,1]' />
❌
</div>

`严`拆为`一业丿`，而不拆成`丌丷厂`，因为后者中，`丌`字根的`丿`变成`丨`。为了让非「竖·撇变形根」尽可能地大，我们取`业`根。

另外一种拆法`丌䒑丿`不取的原因是`䒑`字根中的点应当和横相连（艹字头的行书写法），而`严`字中两点分散了。这违反了[字根的内在属性](./advanced)。
<div class="flex justify-left flex-wrap">
<Chaifen char='严' :parts='[1,5,1]' />
✅
<Chaifen char='严' :parts='[3,2,2]' />
❌
<Chaifen char='严' :parts='[3,3,1]' />
❌
</div>

`缓`拆`纟爪干又`而不拆`纟爪二夂`。虽然前者`干`的竖是撇，但后者出现了「字根相交」。根据规则优先级，「字根相交」低于「字根相连」，故而拆为`纟爪干又`。

<div class="flex justify-left flex-wrap">
<Chaifen char='缓' :parts='[3, 4, 3, 2]' />
✅
<Chaifen char='缓' :parts='[3, 4, 2, 3]' />
❌
</div>
:::

### 向前取大

向前取大，让首笔靠前的字根的笔划数尽量地多。这是一个兜底原则，可以保证最终只有一个候选方案能够胜出。因此，它的优先级必然是所有拆字规则中最低的。

::: tip 例
`夬`拆为`ユ人`，而不拆成`乛大`，因为「字根取大」原则。让首笔靠前的字根的笔划数尽量地多，这里，`ユ`的笔画数大于`乛`。
<div class="flex justify-left flex-wrap">
<Chaifen char='夬' :parts='[2,2]' />
✅
<Chaifen char='夬' :parts='[1,3]' />
❌
</div>

`丈`拆为`𠂇丶`，而不拆成`一乂`，因为「字根取大」原则。让首笔靠前的字根的笔划数尽量地多，这里，`𠂇`的笔画数大于`一`。
<div class="flex justify-left flex-wrap">
<Chaifen char='丈' :parts='[2,1]' />
✅
<Chaifen char='丈' :parts='[1,2]' />
❌
</div>
:::

## 拆字举例

::: info 更多例字
想要了解更多具有代表性的例字在宇码中的拆分，请参见[字海拾珍——必拆字举隅](./examples)。

如果你想了解使用频率最为靠前的几百个汉字在宇码中的拆分，可以点击进入[高频字拆分图解（简化字）](./frequent.md)或[高频字拆分图解（传统字）](./frequent_tc.md)页面。
:::

实际拆字时，如果你感觉拆分方法不唯一，那么可以用以下方法找到最优解：

- 列出所有可能的候选拆分方案。
- 依照「少顺整散连交断大」的规则顺序，依次比较各个候选拆分。
- 如果所有的候选拆分都不满足本条规则，则进入下条规则。
- 如果部分的候选拆分满足本条规则，则该部分的候选拆分方案进入下条规则。
- 直到只有一个候选拆分方案胜出。

以下通过部分例字来说明拆分规则：

::: tip 例

1. 一例：`亷`。候选拆分`亠丷厂彐〢八`和`立丿彐〢八`。
   - `亠丷厂彐〢八`六根，`立丿彐〢八`五根。后者字根最少，直接胜出。
2. 又一例：`重`。候选拆分`丿車一`和`千里`。
   - `千里`是两根，满足「字根最少」，直接虽然中间一竖断开，但依然胜出。
3. 又一例：`盡`。候选拆分`コ土灬皿` `乛龶灬皿` `彐丄灬皿` `{聿上}一灬皿`四种。
   - 都是四根，同时满足「字根最少」。
   - `コ土灬皿`不符合笔顺，其他三者都完全符合笔顺。淘汰`コ土灬皿`。
   - 上半部分都出现字根相交情况。
   - 都不适用「结构合理」。
   - 进入兜底规则「字根取大」。根据规则，只要其中某个字根多写一笔仍然符合笔顺，就多写一笔。观察到，`{聿上}一灬皿`的第一根一共写了四笔，故而胜出。
   <div class="flex justify-left flex-wrap">
   <Chaifen char='盡' :parts='[4,1,4,5]' />
   ✅
   <Chaifen char='盡' :parts='[3,2,4,5]' />
   ❌
   </div>
4. 又一例：`曱` yuē `甴` yóu。
   - `曱`按笔顺取大，故而是`日丨`。
   - `甴`，候选拆分为`日丨` `囗丄`。两者都是两根。因为先写竖，再写中间的一横，为了让不被穿插的部件尽可能地大，我们取`丄`。最后`囗丄`胜出。
   <div class="flex justify-left flex-wrap">
   <Chaifen char='曱' :parts='[4,1]' />
   ✅
   <Chaifen char='甴' :parts='[2,2,1]' :colors='[1,2,1]' />
   ✅
   </div>
:::

上面的例子逻辑虽比较复杂，但是最终的结果还是非常直观的。在宇浩输入法中，大多数的时候，直观的拆分方法往往也是符合规则的。

[^predecessor]: 前辈输入法的拆字规则，一般都有诸如「直观」、「符合笔顺」、「取大」等设置。但是优先级往往不够明确，很多拆分方法并不符合规则，存在不少特例。在常用字范围内，还可以通过大量练习来完成记忆，但到了大字集，规则不明确、规则相矛盾，都是造成检字困难的因素。

[^uncertanty]: 当然，汉字不是完全可以量化的，不同字形下，也会出现不同的拆分可能。除了良好的定义外，有时候比例原则也很重要。尤其在大字集上，追求单一拆分方法会扭曲汉字直观性，不能兼顾不同字形，让使用者需要大量尝试才能找到想要的字，这违背了大字集检字的初衷。因此，对于大字集，也会设置兼容拆分和容错码。

[^intrinstic]: 在进行拆分前，首先需要「确认」某个字根到底存不存在，是否合规，也就是检查字根的「内在属性」。比如`土` `士`，两横的长度直接决定了字根的异同。其次需要检查一些「拆分禁手」，比如`王`中间如果被笔画「穿心」，这是不被允许的。禁手有：散件不分割、竖向不包夹、横间不穿心。对这两点的讨论作为进阶内容，于此处跳过。若有兴趣，可以在后续章节 《进阶讨论》中阅读。

[^order]: 为什么要有完全合笔顺这个规则，而且优先级那么高？在我的认知中，形码的基本出发点就是如同写字一样输入一系列笔画，即「五笔画输入法」。它是最自然，最直观的，所以宇码规则有了「符合笔顺」。但是，输入讲求效率，必须把一些笔画合并起来形成字根，它们的笔顺可能会相互穿插，所以要有「根少优先」这个规则，把它的优先级放在了「符合笔顺」的前面。最后，需要有个兜底条款「向前取大」来保证没有拆分歧义。因此，形码拆分有了「根少」「笔顺」「取大」，其实已经足够了。接下来的其他规则都是在这上面打补丁，为了让拆分更加「直观」。
